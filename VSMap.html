<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>VSMap Prototype</title>
  <style>
    #map{
      height:400px;
      width:100%;
    }
  </style>
</head>
<body>
  <h1>VSMap</h1>
  <div id="map"></div>
  <script>
    function initMap(){
      // Map options
      var options = {
        zoom:8,
        center:{lat:42.3601,lng:-71.0589},
        streetViewControl: false,
        /*mapTypeControlOptions: {
          mapTypeIds: ['coordinate', 'roadmap'],
          style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
        }*/
      }

      // New map
      var map = new google.maps.Map(document.getElementById('map'), options);

      // Listen for click on map
      google.maps.event.addListener(map, 'click', function(event){
        // Add marker
        addMarker({coords:event.latLng});
      });

      function suppressionPoint(location, type, description) {
          this.location = location;
          this.type = type;
          this.content = description;
      }
      var suppressionPoints = [
        new suppressionPoint({lat:42.4668,lng:-70.9495},0,"Extremly long lines spotted"),
        new suppressionPoint({lat:42.8584,lng:-70.9300},1,"Polls shut down"),
        new suppressionPoint({lat:42.7762,lng:-71.0773},2,"No transportation"),
      ];

      // Loop through markers
      for(var i = 0;i < suppressionPoints.length;i++){
        addCircle(suppressionPoints[i]);
      }

      // Add Marker Function
      function addCircle(sp){
        var circleMarker = new google.maps.Circle({
          strokeColor: "#000000",
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillOpacity: 0.35,
          fillColor: "#000000",
          map: map,
          center: sp.location,
          radius: 10000
        });
        switch(sp.type){
          case 0:
            circleMarker.fillColor="#00FF00";
            break;
          case 1:
            circleMarker.fillColor="#FF0000";
            break;
          case 2:
            circleMarker.fillColor="#0000FF";
            break;
        }
        /*if(sp.content){
          var infoWindow = new google.maps.InfoWindow({
            content:sp.content
          });

          marker.addListener('click', function(){
            infoWindow.open(map, circleMarker);
          });
        }*/
      }
    }
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjE_fF3Mv4TOvRWBG7rs-ElvBmvviPTCY&callback=initMap">
    </script>
</body>
</html>
